<!-- {% load staticfiles %} -->
{% load staticfiles backend_tags %}

<div class="w-100 bg-white p-4 mb-3">
	<div class="container-fluid col-md-8">
		<div class="row">
			<div class="col-md-8">
				<div class="m-0">
					<a class="text-secondary" href="{% url 'dashboard' %}">Skill Set</a>
					<span class="mx-2 text-secondary">></span>
					<span class="text-secondary">{{ skillset.name }}</span>
				</div>
				<h2 class="font-weight-bold">{{ skillset.name }}</h2>
			</div>
		</div>
	</div>
</div>
				
<div class="container-fluid col-md-8">
	<div id="ui-view" style="opacity: 1; margin-bottom: 10px;">
		<div class="animated fadeIn">
			<div class="row">
				<div class="col-md-12" id="challenges">
					<!-- Next question -->
					{% if next_question %}
					<div class="card question-card w-100" style="box-shadow: 0 6px 16px 0 rgba(0,0,0,.2);">
						<div class="card-body d-flex flex-row justify-content-between ">
							<div class="question-wrapper mr-5">
								<h3 class="card-title h4">{{ next_question.title|title }}</h3>
								<div style="font-size: 0.75rem;">
								{% if next_question.difficulty == 0 %}
									<span class="card-subtitle mb-2 text-success">{{ next_question.get_difficulty_display }},</span>
								{% elif next_question.difficulty == 1 %}
									<span class="card-subtitle mb-2 text-warning">{{ next_question.get_difficulty_display }},</span>
								{% elif next_question.difficulty == 2 %}
									<span class="card-subtitle mb-2 text-danger">{{ next_question.get_difficulty_display }},</span>
								{% endif %}
									<span class='text-muted'> {{ next_question.skillset.name }}, Max Score: {{ next_question.score }}</span>
								</div>
								<p class='card-text my-2 text-muted'>{{ next_question.short_description }}</p>
							</div>
							<div>
								<button class="btn btn-lge align-bottom" data-question-slug={{ next_question.slug }} onclick='btnClick(this)' action='solve-challenge'>Solve Challenge</button>
							</div>
						</div>
					</div>
					{% endif %}
					
					{% for question in skillset.questions.all %}
					<div class="card question-card w-100 mb-1" style="box-shadow: 0 6px 16px 0 rgba(0,0,0,.2);">
						<div class="card-body d-flex flex-row justify-content-between">
							<div class="question-wrapper">
								<h3 class="card-title h4">{{ question.title|title }}</h3>
								<div style="font-size: 0.75rem;">
								{% if question.difficulty == 0 %}
									<span class="card-subtitle mb-2 text-success">{{ question.get_difficulty_display }},</span>
								{% elif question.difficulty == 1 %}
									<span class="card-subtitle mb-2 text-warning">{{ question.get_difficulty_display }},</span>
								{% elif question.difficulty == 2 %}
									<span class="card-subtitle mb-2 text-danger">{{ question.get_difficulty_display }},</span>
								{% endif %}
									<span class='text-muted'> {{ skillset.name }}, Max Score: {{ question.score }}</span>
								</div>
							</div>
							<div>
								<button class="btn btn-lge align-bottom" data-question-slug={{ question.slug }} onclick='btnClick(this)' action='solve-challenge'>Solve Challenge</button>
							</div>
						</div>
					</div>
					{% endfor %}
					
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	/*
    var input = document.getElementById("search");
    input.addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
            event.preventDefault();
            document.getElementById("btnSearch").click();
        }
    });

    function search_click() {
        var key_Search = document.getElementById("search").value;
        if (key_Search) {
            window.location.replace("/#matches/" + key_Search)
            location.reload();
        }
    }
    */
</script>
